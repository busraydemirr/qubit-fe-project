<div class="flex flex-row justify-between items-center bg-gray-200">
    <h2 mat-dialog-title>{{data.element.definition}}</h2>
    <mat-form-field class="w-[150px] mx-5 mt-[20px]">
        <mat-label>Dönem</mat-label>
        <mat-select [formControl]="termControl">
            <mat-option [value]="'01'">1</mat-option>
            <mat-option [value]="'02'">2</mat-option>
            <mat-option [value]="'03'">3</mat-option>
        </mat-select>
    </mat-form-field>
</div>
<mat-dialog-content class="p-8">
    @if (elements.length > 0 || (loading$ | async)){
    <mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="clCardDefinition">
            <mat-header-cell *matHeaderCellDef   class="table-column-200"> Cari Bilgisi </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-200">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ element.clCardDefinition }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="bankproctype">
            <mat-header-cell *matHeaderCellDef   class="table-column-150"> Banka Hareket Türü
            </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-150">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ renderBankProcType(element.trcode) }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="accounted">
            <mat-header-cell *matHeaderCellDef   class="table-column-200"> Muhasebeleştirildi
            </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-200">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{renderAccountedInfo(element.accounted!)}}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="amount">
            <mat-header-cell *matHeaderCellDef   class="table-column-100"> Tutar </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-100">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{element.amount  | number }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="lineexp">
            <mat-header-cell *matHeaderCellDef   class="table-column-250"> Açıklama </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-250">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ element.lineexp }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="ksLineexp">
            <mat-header-cell *matHeaderCellDef   class="table-column-200"> Kasa Açıklaması
            </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-200">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ element.ksLineexp }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="sign">
            <mat-header-cell *matHeaderCellDef   class="table-column-100"> Borç/Alacak İşareti
            </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-100">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ renderSign(element.sign) }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="tranno">
            <mat-header-cell *matHeaderCellDef   class="table-column-150"> Hareket Numarası
            </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-150">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ element.tranno }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="transduedate">
            <mat-header-cell *matHeaderCellDef   class="table-column-100"> Hareket tarihi
            </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-100">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ element.transduedate | date: "dd/MM/yyyy" }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="capiblockNameCreatedby">
            <mat-header-cell *matHeaderCellDef   class="table-column-100"> Oluşturan </mat-header-cell>
            <mat-cell *matCellDef="let element" class="table-column-100">
                <ng-container *ngIf="(loading$ | async); else content">
                    <ngx-skeleton-loader count="1" class="w-full" [theme]="{ 
                  height: '20px',
                  width: '100%',
                  'background-color': '#b7bec3',
                  border: '1px solid #b7bec3'
                }"></ngx-skeleton-loader>
                </ng-container>
                <ng-template #content>
                    {{ element.capiblockNameCreatedby }}
                </ng-template>
            </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
    }@else{
    Hesap Hareketi bulunamadı.
    }
</mat-dialog-content>
<mat-dialog-actions>
    <button mat-button mat-dialog-close (click)="close()" cdkFocusInitial>Kapat</button>
</mat-dialog-actions>